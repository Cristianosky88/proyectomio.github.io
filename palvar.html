<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Control de Tickets</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- CSS Personalizado -->
    <link rel="stylesheet" href="css/palvar.css">
</head>
<body>
    <!-- Botón Modo Oscuro/Claro -->
    <button id="modoToggle" class="btn btn-secondary btn-sm position-fixed top-0 end-0 m-3">
        <i class="fas fa-moon"></i>
    </button>

    <div class="pal-var-container">
        <div class="header-section text-center py-4">
            <h2>Sistema de Control de Tickets</h2>
            <p class="text-muted">Gestión de tickets y pagos</p>
        </div>

        <div class="content-section container">
            <form id="formTickets" autocomplete="off">
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="nombrePersona" class="form-label">
                            <i class="fas fa-user"></i> Nombre de la persona
                        </label>
                        <input type="text" class="form-control" id="nombrePersona" 
                               required pattern="^[A-Za-zÁáÉéÍíÓóÚúÑñ\s]+$"
                               placeholder="Ingrese el nombre">
                    </div>

                    <div class="col-md-6">
                        <label for="clienteGenero" class="form-label">
                            <i class="fas fa-users"></i> Tipo de cliente
                        </label>
                        <select id="clienteGenero" class="form-select" required>
                            <option value="cliente">Cliente</option>
                            <option value="clienta">Clienta</option>
                        </select>
                    </div>

                    <div class="col-md-4">
                        <label for="cantidadTickets" class="form-label">
                            <i class="fas fa-ticket-alt"></i> Cantidad de tickets
                        </label>
                        <input type="number" class="form-control" id="cantidadTickets" 
                               min="1" required placeholder="0">
                    </div>

                    <div class="col-md-4">
                        <label for="valorTotal" class="form-label">
                            <i class="fas fa-dollar-sign"></i> Valor total
                        </label>
                        <input type="text" class="form-control" id="valorTotal" 
                               placeholder="0,00" required>
                    </div>

                    <div class="col-md-4">
                        <label for="montoPagado" class="form-label">
                            <i class="fas fa-money-bill-wave"></i> Monto pagado
                        </label>
                        <input type="text" class="form-control" id="montoPagado" 
                               placeholder="0,00" required>
                    </div>

                    <div class="col-md-4">
                        <label for="horaPrimeraOperacion" class="form-label">
                            <i class="fas fa-clock"></i> Hora primera operación
                        </label>
                        <input type="time" class="form-control" id="horaPrimeraOperacion" 
                               placeholder="Hora de la primera operación">
                    </div>

                    <div class="col-md-4">
                        <label for="horaUltimaFila" class="form-label">
                            <i class="fas fa-clock"></i> Hora última operación
                        </label>
                        <input type="time" class="form-control" id="horaUltimaFila" 
                               placeholder="Hora de la última operación">
                    </div>

                    <div class="col-md-4">
                        <label for="tipoCargo" class="form-label">
                            <i class="fas fa-id-badge"></i> Cargo
                        </label>
                        <select id="tipoCargo" class="form-select" required>
                            <option value="">Seleccionar cargo...</option>
                            <option>Supervisor</option>
                            <option>Jefe de Caja</option>
                            <option>As. de Caja</option>
                            <option>Encargado</option>
                            <option>Operadora</option>
                            <option>Operador</option>
                            <option value="personalizado">Otro...</option>
                        </select>
                    </div>

                    <div class="col-md-6" id="grupoPersonalizado" style="display:none;">
                        <label for="cargoPersonalizado" class="form-label">
                            <i class="fas fa-edit"></i> Cargo personalizado
                        </label>
                        <input type="text" class="form-control" id="cargoPersonalizado"
                               placeholder="Especifique el cargo">
                    </div>
                </div>

                <div id="avisoMonto" class="mt-3"></div>

                <div class="buttons mt-4">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-file-alt"></i> Generar Reporte
                    </button>
                    <button type="button" class="btn btn-success" onclick="copiarReporte()">
                        <i class="fas fa-copy"></i> Copiar al portapapeles
                    </button>
                    <button type="button" class="btn btn-danger" onclick="borrarHistorial()">
                        <i class="fas fa-trash-alt"></i> Borrar Historial
                    </button>
                    <button class="btn btn-inicio" type="button" onclick="window.location.href='index.html'">🏠 Volver al Inicio</button>
                </div>
            </form>

            <div id="reporte" class="mt-4"></div>
            
            <div class="historial-section mt-5">
                <h4><i class="fas fa-history"></i> Historial</h4>
                <div id="historial" class="historial-items"></div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript Personalizado -->
    <script src="js/palvar.js"></script>
</body>
</html>